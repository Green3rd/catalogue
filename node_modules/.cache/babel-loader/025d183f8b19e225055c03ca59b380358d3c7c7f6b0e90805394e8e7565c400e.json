{"ast":null,"code":"var _jsxFileName = \"/Users/green3rd/Documents/Git/catalogue/src/TrackingPage/TrackingForm/TrackingForm.tsx\";\nimport React from \"react\";\nimport { Form, withFormik } from \"formik\";\nimport { initTrackingFormValue, validateTrackingSchema } from \"./validation\";\nimport { withRouter } from \"react-router\";\nimport { track } from \"shared/utils/callServer/callServer\";\nimport { ErrorMessage } from \"shared/utils/message\";\nimport { FormInput } from \"shared/Component/FormInput/FormInput\";\nimport { FormButton } from \"shared/Component/FormButton/FormButton\";\nimport \"./TrackingForm.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrackingFormComponent = props => {\n  const {\n    isSubmitting,\n    errorText\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"TrackingForm\",\n    children: [/*#__PURE__*/_jsxDEV(FormInput, {\n      label: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n      name: \"orderNumber\",\n      type: \"text\",\n      error: !!props.errors.orderNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TrackingForm__Text\",\n      children: \"\\u0E2B\\u0E23\\u0E37\\u0E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n      label: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\",\n      name: \"email\",\n      type: \"email\",\n      error: !!props.errors.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormButton, {\n      text: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\",\n      disabled: isSubmitting,\n      errorText: errorText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_c = TrackingFormComponent;\nconst TrackingForm = withRouter(withFormik({\n  mapPropsToValues: initTrackingFormValue,\n  validationSchema: validateTrackingSchema,\n  validate: values => {\n    if (!values.orderNumber && !values.email) {\n      return {\n        orderNumber: \"กรุณาใส่หมายเลขสั่งซื้อหรืออีเมล\",\n        email: \"กรุณาใส่หมายเลขสั่งซื้อหรืออีเมล\"\n      };\n    }\n    return {};\n  },\n  handleSubmit: (values, {\n    props,\n    setSubmitting\n  }) => {\n    // send a request to a server\n    track(values).then(result => {\n      setSubmitting(false);\n      if (!result || !result.data) {\n        props.onFormSuccess([]);\n        props.onFormError(ErrorMessage.cannotGetData);\n        return;\n      }\n      if (result.data.error) {\n        props.onFormSuccess([]);\n        props.onFormError(result.data.error);\n        return;\n      }\n      props.onFormError(\"\");\n      props.onFormSuccess(result.data.data);\n      return;\n    }, error => {\n      setSubmitting(false);\n      props.onFormSuccess([]);\n      props.onFormError(error && error.message);\n    });\n  },\n  displayName: \"TrackingForm\"\n})(TrackingFormComponent));\nTrackingForm.displayName = \"TrackingForm\";\nexport { TrackingForm };\nvar _c;\n$RefreshReg$(_c, \"TrackingFormComponent\");","map":{"version":3,"names":["React","Form","withFormik","initTrackingFormValue","validateTrackingSchema","withRouter","track","ErrorMessage","FormInput","FormButton","jsxDEV","_jsxDEV","TrackingFormComponent","props","isSubmitting","errorText","className","children","label","name","type","error","errors","orderNumber","fileName","_jsxFileName","lineNumber","columnNumber","email","text","disabled","_c","TrackingForm","mapPropsToValues","validationSchema","validate","values","handleSubmit","setSubmitting","then","result","data","onFormSuccess","onFormError","cannotGetData","message","displayName","$RefreshReg$"],"sources":["/Users/green3rd/Documents/Git/catalogue/src/TrackingPage/TrackingForm/TrackingForm.tsx"],"sourcesContent":["import React from \"react\";\nimport { Form, FormikProps, withFormik } from \"formik\";\nimport { initTrackingFormValue, validateTrackingSchema } from \"./validation\";\nimport { withRouter, RouteComponentProps } from \"react-router\";\nimport { track } from \"shared/utils/callServer/callServer\";\nimport { ErrorMessage } from \"shared/utils/message\";\nimport { TrackingFormValues } from \"./types\";\nimport { FormInput } from \"shared/Component/FormInput/FormInput\";\nimport { FormButton } from \"shared/Component/FormButton/FormButton\";\nimport { TrackingResponseData } from \"shared/utils/callServer/type\";\nimport \"./TrackingForm.scss\";\n\ninterface OwnProps {\n  errorText?: string;\n  onFormError: (error: string) => void;\n  onFormSuccess: (data: TrackingResponseData[]) => void;\n}\n\ntype Props = OwnProps & RouteComponentProps & FormikProps<TrackingFormValues>;\nconst TrackingFormComponent: React.FC<Props> = (props) => {\n  const { isSubmitting, errorText } = props;\n\n  return (\n    <Form className=\"TrackingForm\">\n      <FormInput\n        label=\"หมายเลขคำสั่งซื้อ\"\n        name=\"orderNumber\"\n        type=\"text\"\n        error={!!props.errors.orderNumber}\n      />\n      <div className=\"TrackingForm__Text\">หรือ</div>\n      <FormInput\n        label=\"อีเมล\"\n        name=\"email\"\n        type=\"email\"\n        error={!!props.errors.email}\n      />\n\n      <FormButton text=\"ค้นหา\" disabled={isSubmitting} errorText={errorText} />\n    </Form>\n  );\n};\n\nconst TrackingForm = withRouter(\n  withFormik<OwnProps & RouteComponentProps, TrackingFormValues>({\n    mapPropsToValues: initTrackingFormValue,\n    validationSchema: validateTrackingSchema,\n    validate: (values: TrackingFormValues) => {\n      if (!values.orderNumber && !values.email) {\n        return {\n          orderNumber: \"กรุณาใส่หมายเลขสั่งซื้อหรืออีเมล\",\n          email: \"กรุณาใส่หมายเลขสั่งซื้อหรืออีเมล\",\n        };\n      }\n\n      return {};\n    },\n    handleSubmit: (values: TrackingFormValues, { props, setSubmitting }) => {\n      // send a request to a server\n      track(values).then(\n        (result) => {\n          setSubmitting(false);\n          if (!result || !result.data) {\n            props.onFormSuccess([]);\n            props.onFormError(ErrorMessage.cannotGetData);\n            return;\n          }\n          if (result.data.error) {\n            props.onFormSuccess([]);\n            props.onFormError(result.data.error);\n            return;\n          }\n          props.onFormError(\"\");\n          props.onFormSuccess(result.data.data);\n          return;\n        },\n        (error) => {\n          setSubmitting(false);\n          props.onFormSuccess([]);\n          props.onFormError(error && error.message);\n        }\n      );\n    },\n    displayName: \"TrackingForm\",\n  })(TrackingFormComponent)\n);\n\nTrackingForm.displayName = \"TrackingForm\";\nexport { TrackingForm };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}